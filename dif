в general.h

 в структуру комнаты добавить поле
 step и иницилизировать всем комнатам его в -1
 pre_list у всех должен быть равен нулю

 добавить типы R_END и R_START

 в структуру фермы добавить ссылку на конец
 и начало?